{"version":3,"file":"@/assets/js/950.a175fdb1.js","mappings":"mnCAsFA,MAAMA,GAAOC,EAAAA,EAAAA,KACPC,GAASC,EAAAA,EAAAA,MAGTC,GAASC,EAAAA,EAAAA,IAAS,IAAoB,QAAdL,EAAKM,MAG7BC,GAAUC,EAAAA,EAAAA,KAAI,GACdC,GAAaD,EAAAA,EAAAA,IAAI,IAGjBE,EAAcC,GAAOA,EAAIA,EAAEC,UAAU,EAAG,IAAM,IAG9CC,EAAmBC,IACvB,OAAQA,GACN,IAAK,MACH,MAAO,KACT,IAAK,MACH,MAAO,KACT,IAAK,MACH,MAAO,KACT,QACE,MAAO,MAIb,SAASC,EAAoBC,GAC3B,OAAIC,MAAMC,QAAQF,GAAaA,EAC1BA,EACEG,OAAOH,GACXI,MAAM,KACNC,IAAKC,GAAMA,EAAEC,QACbC,OAAOC,SAJO,EAKnB,CAGA,SAASC,EAAaZ,GACpB,OAAQA,GACN,IAAK,MACL,IAAK,MACH,MAAO,OACT,IAAK,MACL,IAAK,MACH,MAAO,UACT,IAAK,MACH,MAAO,OACT,QACE,MAAO,OAEb,CAEA,SAASa,EAAoBC,GAC3B,MAAMC,EAAed,EAAoBa,GACnCE,EAASD,EAAaR,IAAIK,GAC1BK,EAAQF,EAAaG,OAE3B,OAAc,IAAVD,EAAoB,IACpBD,EAAOG,SAAS,WAAmB,MAAMF,KACzCD,EAAOG,SAAS,QAAgB,MAAMF,KACnC,GACT,CAEA,SAASG,EAAepB,GACtB,OAAQA,GACN,IAAK,MACL,IAAK,MACL,IAAK,MACH,MAAO,OACT,IAAK,MACH,MAAO,UACT,IAAK,MACH,MAAO,OACT,QACE,MAAO,OAEb,CAEA,SAASqB,EAAsBC,GAC7B,MAAMC,EAAiBtB,EAAoBqB,GAGrCE,EAAWD,EAAeb,OAAQV,GAAkB,QAATA,GAE3CiB,EAAQO,EAASN,OACvB,GAAc,IAAVD,EAAa,MAAO,IAExB,MAAMD,EAASQ,EAASjB,IAAIa,GAE5B,OAAIJ,EAAOG,SAAS,WAAmB,MAAMF,KACzCD,EAAOG,SAAS,QAAgB,MAAMF,KACnC,GACT,CAGA,MAAMQ,EAAkBC,IACjBA,GACLtC,EAAOuC,KAAK,sBAAsBD,MAG9BE,EAAgBF,IACfA,GAELtC,EAAOuC,KAAK,CACVE,KAAM,WACNC,MAAO,CACLJ,WAAYA,MAKZK,EAAkBL,IACjBA,GACLtC,EAAOuC,KAAK,CACVE,KAAM,aACNC,MAAO,CACLJ,WAAYA,MAMZM,EAAsBC,UAC1BxC,EAAQyC,OAAQ,EAEhB,IACE,MAAMC,QAAYC,EAAAA,EAAMC,IAAI,yBAA0B,CACpDC,OAAQ,CACNC,QAASrD,EAAKsD,OACdhD,KAAMN,EAAKM,QAIfiD,QAAQC,IAAI,oCAAqCP,EAAIQ,MAErD,MAAMzC,EAAMiC,EAAIQ,MAAMA,MAAQ,GAC9B,IAAIC,EAAO,GAEPzC,MAAMC,QAAQF,GAChB0C,EAAO1C,EACEA,GAAsB,kBAARA,IACvB0C,EAAO,CAAC1C,IAGVP,EAAWuC,MAAQU,EAAKlC,OAAQmC,GAAQA,GAAOA,EAAIC,YACrD,CAAE,MAAOC,GACPN,QAAQO,MAAM,6BAA8BD,EAC9C,CAAE,QACAtD,EAAQyC,OAAQ,CAClB,G,OAGFe,EAAAA,EAAAA,IAAU,KACH3D,EAAO4C,OACZF,M,2hCC1OF,MAAMkB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue-material-dashboard-2/./src/views/ApplicationStatus.vue","webpack://vue-material-dashboard-2/./src/views/ApplicationStatus.vue?bf54"],"sourcesContent":["<!-- src/views/ApplicationStatus.vue -->\r\n<template>\r\n  <div class=\"as-page\">\r\n    <h2 class=\"as-title\">ë‚˜ì˜ ì§€ì› ì‹ ì²­ í˜„í™©</h2>\r\n\r\n    <!-- ê¶Œí•œ ì—†ìŒ -->\r\n    <div v-if=\"!isUser\" class=\"as-no-auth\">\r\n      <p>ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. (ì¼ë°˜ ì´ìš©ì ì „ìš© í˜ì´ì§€)</p>\r\n    </div>\r\n\r\n    <!-- ëª©ë¡ -->\r\n    <div v-else>\r\n      <div class=\"as-table-wrap\">\r\n        <table class=\"as-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>No</th>\r\n              <th>ì´ë¦„</th>\r\n              <th>ë³´í˜¸ì</th>\r\n              <th>ë‹´ë‹¹ì</th>\r\n              <th>ê¸°ê´€</th>\r\n              <th>ì§€ì› ì‹ ì²­ì¼</th>\r\n              <th>ìš°ì„ ìˆœìœ„</th>\r\n              <th>ê³„íš í˜„í™©</th>\r\n              <th>ê²°ê³¼ í˜„í™©</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            <!-- ë¡œë”© -->\r\n            <tr v-if=\"loading\">\r\n              <td colspan=\"9\" class=\"as-empty\">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</td>\r\n            </tr>\r\n\r\n            <!-- ë°ì´í„° ì—†ìŒ -->\r\n            <tr v-else-if=\"statusList.length === 0\">\r\n              <td colspan=\"9\" class=\"as-empty\">ì¡°íšŒëœ ì‹ ì²­ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</td>\r\n            </tr>\r\n\r\n            <!-- ë°ì´í„° í‘œì‹œ -->\r\n            <tr\r\n              v-else\r\n              v-for=\"(row, idx) in statusList\"\r\n              :key=\"row.submit_code || idx\"\r\n            >\r\n              <td>{{ idx + 1 }}</td>\r\n\r\n              <td>{{ row.child_name || \"ë³¸ì¸\" }}</td>\r\n              <td>{{ row.name }}</td>\r\n              <td>{{ row.assi_name || \"-\" }}</td>\r\n              <td>{{ row.org_name || \"-\" }}</td>\r\n\r\n              <!-- ì§€ì› ì‹ ì²­ì¼ (ì¡°ì‚¬ì§€ ìƒì„¸ ì´ë™) -->\r\n              <td class=\"as-link\" @click=\"goSurveyDetail(row.submit_code)\">\r\n                {{ formatDate(row.survey_date) }}\r\n              </td>\r\n\r\n              <!-- ìš°ì„ ìˆœìœ„ -->\r\n              <td>\r\n                <span class=\"as-tag\" :class=\"'lvl-' + row.priority_level\">\r\n                  {{ convertPriority(row.priority_level) }}\r\n                </span>\r\n              </td>\r\n\r\n              <!-- ì§€ì› ê³„íš ìƒíƒœ -->\r\n              <td class=\"as-link\" @click=\"goPlanDetail(row.submit_code)\">\r\n                {{ summarizePlanStatus(row.plan_status_list || []) }}\r\n              </td>\r\n              <!-- ì§€ì›ê²°ê³¼ -->\r\n              <td class=\"as-link\" @click=\"goResultDetail(row.submit_code)\">\r\n                {{ summarizeResultStatus(row.result_status_list || []) }}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { useAuthStore } from \"@/store/authLogin\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst auth = useAuthStore();\r\nconst router = useRouter();\r\n\r\n// ê¶Œí•œ ì²´í¬ (ì¼ë°˜ íšŒì›ë§Œ)\r\nconst isUser = computed(() => auth.role === \"AA1\");\r\n\r\n// ìƒíƒœ\r\nconst loading = ref(false);\r\nconst statusList = ref([]);\r\n\r\n// ë‚ ì§œ í¬ë§·\r\nconst formatDate = (d) => (d ? d.substring(0, 10) : \"-\");\r\n\r\n// ìš°ì„ ìˆœìœ„ ë§¤í•‘ (BB)\r\nconst convertPriority = (code) => {\r\n  switch (code) {\r\n    case \"BB1\":\r\n      return \"ê¸´ê¸‰\";\r\n    case \"BB2\":\r\n      return \"ì¤‘ì \";\r\n    case \"BB3\":\r\n      return \"ì¤€ë¹„\";\r\n    default:\r\n      return \"-\";\r\n  }\r\n};\r\n\r\nfunction normalizeStatusList(raw) {\r\n  if (Array.isArray(raw)) return raw;\r\n  if (!raw) return [];\r\n  return String(raw)\r\n    .split(\",\")\r\n    .map((s) => s.trim())\r\n    .filter(Boolean);\r\n}\r\n\r\n// plan_status í•˜ë‚˜ì˜ ì½”ë“œ â†’ ê·¸ë£¹\r\nfunction mapPlanGroup(code) {\r\n  switch (code) {\r\n    case \"CC1\":\r\n    case \"CC2\":\r\n      return \"NONE\"; // ì‘ì„± ì „\r\n    case \"CC3\":\r\n    case \"CC4\":\r\n      return \"ONGOING\"; // ê²€í† ì¤‘/ì§„í–‰ì¤‘\r\n    case \"CC5\":\r\n      return \"DONE\"; // ì§€ì›ì™„ë£Œ\r\n    default:\r\n      return \"NONE\";\r\n  }\r\n}\r\n\r\nfunction summarizePlanStatus(planStatusesRaw) {\r\n  const planStatuses = normalizeStatusList(planStatusesRaw); // ğŸ‘ˆ ë¬¸ìì—´ â†’ ë°°ì—´ ë³€í™˜\r\n  const groups = planStatuses.map(mapPlanGroup);\r\n  const total = planStatuses.length;\r\n\r\n  if (total === 0) return \"-\";\r\n  if (groups.includes(\"ONGOING\")) return `ì§„í–‰ ${total}ê±´`;\r\n  if (groups.includes(\"DONE\")) return `ì™„ë£Œ ${total}ê±´`;\r\n  return \"-\";\r\n}\r\n\r\nfunction mapResultGroup(code) {\r\n  switch (code) {\r\n    case \"CD1\":\r\n    case \"CD2\":\r\n    case \"CD3\":\r\n      return \"NONE\"; // ì‘ì„± ì „\r\n    case \"CD4\":\r\n      return \"ONGOING\"; // ì§€ì›ì¤‘/ìŠ¹ì¸ìš”ì²­\r\n    case \"CD5\":\r\n      return \"DONE\"; // ì§€ì›ì™„ë£Œ\r\n    default:\r\n      return \"NONE\";\r\n  }\r\n}\r\n\r\nfunction summarizeResultStatus(resultStatusesRaw) {\r\n  const resultStatuses = normalizeStatusList(resultStatusesRaw);\r\n\r\n  // ğŸ”¥ CD3ëŠ” ì¹´ìš´íŠ¸ ìì²´ì—ì„œ ì œì™¸\r\n  const filtered = resultStatuses.filter((code) => code !== \"CD3\");\r\n\r\n  const total = filtered.length;\r\n  if (total === 0) return \"-\";\r\n\r\n  const groups = filtered.map(mapResultGroup);\r\n\r\n  if (groups.includes(\"ONGOING\")) return `ì§„í–‰ ${total}ê±´`;\r\n  if (groups.includes(\"DONE\")) return `ì™„ë£Œ ${total}ê±´`;\r\n  return \"-\";\r\n}\r\n\r\n// ì´ë™ í•¨ìˆ˜\r\nconst goSurveyDetail = (submitCode) => {\r\n  if (!submitCode) return;\r\n  router.push(`/survey/submission/${submitCode}`);\r\n};\r\n\r\nconst goPlanDetail = (submitCode) => {\r\n  if (!submitCode) return;\r\n\r\n  router.push({\r\n    name: \"planList\",\r\n    query: {\r\n      submitCode: submitCode,\r\n    },\r\n  });\r\n};\r\n\r\nconst goResultDetail = (submitCode) => {\r\n  if (!submitCode) return;\r\n  router.push({\r\n    name: \"resultList\",\r\n    query: {\r\n      submitCode: submitCode,\r\n    },\r\n  });\r\n};\r\n\r\n// ë°ì´í„° ì¡°íšŒ\r\nconst fetchMyApplications = async () => {\r\n  loading.value = true;\r\n\r\n  try {\r\n    const res = await axios.get(\"/api/applications/mine\", {\r\n      params: {\r\n        loginId: auth.userId, // users.user_id\r\n        role: auth.role, // \"AA1\" (ì¼ë°˜ ì‚¬ìš©ì)\r\n      },\r\n    });\r\n\r\n    console.log(\"[ApplicationStatus] raw response:\", res.data);\r\n\r\n    const raw = res.data?.data ?? [];\r\n    let list = [];\r\n\r\n    if (Array.isArray(raw)) {\r\n      list = raw;\r\n    } else if (raw && typeof raw === \"object\") {\r\n      list = [raw];\r\n    }\r\n\r\n    statusList.value = list.filter((row) => row && row.submit_code);\r\n  } catch (err) {\r\n    console.error(\"[ApplicationStatus] ì¡°íšŒ ì‹¤íŒ¨:\", err);\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  if (!isUser.value) return;\r\n  fetchMyApplications();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.as-page {\r\n  padding: 24px;\r\n  color: #111827;\r\n  font-size: 15px;\r\n}\r\n\r\n/* í˜ì´ì§€ ì œëª© */\r\n.as-title {\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  margin-bottom: 16px;\r\n  letter-spacing: -0.02em;\r\n}\r\n\r\n/* ê¶Œí•œ ì—†ìŒ ë°•ìŠ¤ */\r\n.as-no-auth {\r\n  padding: 30px 20px;\r\n  border-radius: 0.75rem;\r\n  border: 1px dashed #d1d5db;\r\n  background: #f9fafb;\r\n  text-align: center;\r\n  color: #4b5563;\r\n}\r\n\r\n/*** í…Œì´ë¸” ì¹´ë“œ ë˜í¼ (ì¡°ì‚¬ì§€ ëª©ë¡ì´ë‘ ë¹„ìŠ·í•œ ì¹´ë“œ ëŠë‚Œ) ***/\r\n.as-table-wrap {\r\n  margin-top: 8px;\r\n  border-radius: 0.9rem;\r\n  border: 1px solid #e5e7eb;\r\n  background-color: #ffffff;\r\n  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.06);\r\n  overflow: hidden; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ì— ë§ê²Œ ì˜ë¦¬ë„ë¡ */\r\n}\r\n\r\n/*** í…Œì´ë¸” ê¸°ë³¸ ***/\r\n.as-table {\r\n  width: 100%;\r\n  table-layout: fixed;\r\n  border-collapse: collapse;\r\n  font-size: 14px;\r\n}\r\n\r\n.as-table th,\r\n.as-table td {\r\n  font-family:\r\n    \"Noto Sans KR\",\r\n    system-ui,\r\n    -apple-system,\r\n    BlinkMacSystemFont,\r\n    \"Segoe UI\",\r\n    sans-serif;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n\r\n/*** í—¤ë” ì…€ (nice-table th-cell ëŠë‚Œ) ***/\r\n.as-table thead th {\r\n  padding: 0.7rem 0.9rem;\r\n  font-weight: 600;\r\n  letter-spacing: 0.04em;\r\n  text-transform: uppercase;\r\n  color: #6b7280;\r\n  background-color: #f9fafb;\r\n  border-bottom: 1px solid #e5e7eb;\r\n}\r\n\r\n/*** ë°”ë”” ì…€ (nice-table td-cell ëŠë‚Œ) ***/\r\n.as-table tbody td {\r\n  padding: 0.65rem 0.9rem;\r\n  border-bottom: 1px solid #f3f4f6;\r\n  color: #111827;\r\n  vertical-align: middle;\r\n}\r\n\r\n/*** í–‰ ìŠ¤íƒ€ì¼ + ì¤„ë¬´ëŠ¬ + hover íš¨ê³¼ ***/\r\n.as-table tbody tr {\r\n  transition:\r\n    background-color 0.12s ease,\r\n    box-shadow 0.15s ease,\r\n    transform 0.08s ease;\r\n}\r\n\r\n.as-table tbody tr:nth-child(odd) {\r\n  background-color: #ffffff;\r\n}\r\n\r\n.as-table tbody tr:nth-child(even) {\r\n  background-color: #f9fafb;\r\n}\r\n\r\n.as-table tbody tr:hover {\r\n  background-color: #f3f4f6;\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.08);\r\n}\r\n\r\n/*** ë¡œë”©/ë¹ˆ ìƒíƒœ ì…€ ***/\r\n.as-empty {\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #9ca3af;\r\n}\r\n\r\n/*** ë§í¬ ìŠ¤íƒ€ì¼ (ê³„íš/ê²°ê³¼/ì¡°ì‚¬ì§€ ìƒì„¸ ì´ë™ìš©) ***/\r\n.as-link {\r\n  color: #111827;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n  text-underline-offset: 2px;\r\n}\r\n\r\n.as-link:hover {\r\n  color: #030712;\r\n}\r\n\r\n/*** ìš°ì„ ìˆœìœ„ íƒœê·¸ (ì‚´ì§ pill ëŠë‚Œ ìœ ì§€) ***/\r\n.as-tag {\r\n  display: inline-block;\r\n  padding: 2px 8px;\r\n  border-radius: 999px;\r\n  font-size: 12px;\r\n  color: #ffffff;\r\n}\r\n\r\n/* ê¸´ê¸‰ */\r\n.lvl-BB1 {\r\n  background-color: #fab39f !important;\r\n  color: #8a2e2e !important;\r\n  border: 1px solid #e28f7f !important;\r\n}\r\n\r\n/* ì¤‘ì  */\r\n.lvl-BB2 {\r\n  background-color: #fce8a1 !important;\r\n  color: #b0681b !important;\r\n  border: 1px solid #e6c77b !important;\r\n}\r\n\r\n/* ì¤€ë¹„ */\r\n.lvl-BB3 {\r\n  background-color: #e4f0ff !important;\r\n  color: #476c99 !important;\r\n  border: 1px solid #a5c3da !important;\r\n}\r\n\r\n/*** ë°˜ì‘í˜•: í™”ë©´ ì¢ì„ ë•Œ í—¤ë” ê¸€ì”¨/íŒ¨ë”© ì¤„ì´ê¸° ***/\r\n@media (max-width: 900px) {\r\n  .as-table thead th {\r\n    white-space: normal;\r\n    font-size: 13px;\r\n    line-height: 1.3;\r\n    padding: 0.45rem 0.5rem;\r\n  }\r\n\r\n  .as-table tbody td {\r\n    font-size: 13px;\r\n    padding: 0.5rem 0.6rem;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./ApplicationStatus.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ApplicationStatus.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ApplicationStatus.vue?vue&type=style&index=0&id=86497a42&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-86497a42\"]])\n\nexport default __exports__"],"names":["auth","useAuthStore","router","useRouter","isUser","computed","role","loading","ref","statusList","formatDate","d","substring","convertPriority","code","normalizeStatusList","raw","Array","isArray","String","split","map","s","trim","filter","Boolean","mapPlanGroup","summarizePlanStatus","planStatusesRaw","planStatuses","groups","total","length","includes","mapResultGroup","summarizeResultStatus","resultStatusesRaw","resultStatuses","filtered","goSurveyDetail","submitCode","push","goPlanDetail","name","query","goResultDetail","fetchMyApplications","async","value","res","axios","get","params","loginId","userId","console","log","data","list","row","submit_code","err","error","onMounted","__exports__"],"sourceRoot":""}