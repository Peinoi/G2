{"version":3,"file":"@/assets/js/659.49b153eb.js","mappings":"qgCAmEA,MAAMA,GAASC,EAAAA,EAAAA,MAETC,GAAUC,EAAAA,EAAAA,IAAI,IACdC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,SAAW,MAAMJ,UAG7DK,EAAeC,UACnB,IACE,MAAMC,QAAYC,EAAAA,EAAMC,IAAI,kCAAkCT,KACtC,YAApBO,EAAIG,KAAKC,SACXb,EAAQc,MAAQL,EAAIG,KAAKA,MAAQ,GAErC,CAAE,MAAOG,GACPC,QAAQC,MAAM,mBAAoBF,EACpC,GAIIG,EAAeV,UACnB,GAAKW,QAAQ,qBAEb,IACE,MAAMV,QAAYC,EAAAA,EAAMU,OAAO,oBAAoBC,KAC3B,YAApBZ,EAAIG,KAAKC,eACLN,IACNe,MAAM,8BAEV,CAAE,MAAOP,GACPC,QAAQC,MAAM,YAAaF,GAC3BO,MAAM,sBACR,GAGIC,EAAgBA,CAACF,EAAYG,KACjC1B,EAAO2B,KAAK,CACVC,KAAM,mBACNC,OAAQ,CAAEC,UAAWP,EAAYQ,UAAWL,M,OAIhDM,EAAAA,EAAAA,IAAUvB,G,ixBCrGV,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue-material-dashboard-2/./src/views/EventApplyList.vue","webpack://vue-material-dashboard-2/./src/views/EventApplyList.vue?569e"],"sourcesContent":["<template>\r\n  <section class=\"apply-page\">\r\n    <h2 class=\"page-title\">Ïù¥Î≤§Ìä∏ Ïã†Ï≤≠ ÎÇ¥Ïó≠</h2>\r\n\r\n    <div class=\"table-wrap\">\r\n      <table class=\"apply-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Ïã†Ï≤≠ÏΩîÎìú</th>\r\n            <th>Ïù¥Î≤§Ìä∏Î™Ö</th>\r\n            <th>ÏÑ∏Î∂Ä Ïù¥Î≤§Ìä∏Î™Ö</th>\r\n            <th>Ïã†Ï≤≠ÏùºÏ†ï</th>\r\n            <th>Ïã†Ï≤≠Ïù∏Ïõê / ÎßàÍ∞êÏù∏Ïõê</th>\r\n            <th>Ïã†Ï≤≠ÏÉÅÌÉú</th>\r\n            <th>Ï∑®ÏÜå</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          <tr\r\n            v-for=\"(apply, idx) in applies\"\r\n            :key=\"apply.apply_code || idx\"\r\n            class=\"click-row\"\r\n            @click=\"goMyApplyInfo(apply.apply_code, apply.event_code)\"\r\n          >\r\n            <td class=\"text-center\">{{ apply.apply_code }}</td>\r\n\r\n            <!-- ÏôºÏ™Ω Ï†ïÎ†¨ -->\r\n            <td class=\"text-left\">{{ apply.event_name }}</td>\r\n            <td class=\"text-left\">{{ apply.sub_event_name || \"-\" }}</td>\r\n\r\n            <!-- Ï§ëÏïô Ï†ïÎ†¨ -->\r\n            <td class=\"text-center\">{{ apply.apply_period }}</td>\r\n\r\n            <!-- Ï§ëÏïô Ï†ïÎ†¨ -->\r\n            <td class=\"text-center\">\r\n              {{ apply.current_count }} / {{ apply.max_count }}\r\n            </td>\r\n\r\n            <!-- Ï§ëÏïô Ï†ïÎ†¨ -->\r\n            <td class=\"text-center\">{{ apply.apply_status_name }}</td>\r\n\r\n            <!-- Ï§ëÏïô Ï†ïÎ†¨ + ÌÅ¥Î¶≠ Î∞©ÏßÄ -->\r\n            <td class=\"text-center\">\r\n              <button\r\n                class=\"cancel-btn\"\r\n                @click.stop=\"handleCancel(apply.apply_code)\"\r\n              >\r\n                Ï∑®ÏÜå\r\n              </button>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr v-if=\"!applies.length\">\r\n            <td colspan=\"7\" class=\"empty-row\">Ïã†Ï≤≠Ìïú Ïù¥Î≤§Ìä∏Í∞Ä ÏóÜÏäµÎãàÎã§.</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst router = useRouter();\r\n\r\nconst applies = ref([]);\r\nconst user_code = JSON.parse(localStorage.getItem(\"user\") || \"{}\").user_code;\r\n\r\n// Ïã†Ï≤≠ ÎÇ¥Ïó≠ Ï°∞Ìöå\r\nconst fetchApplies = async () => {\r\n  try {\r\n    const res = await axios.get(`/api/event/applyList?user_code=${user_code}`);\r\n    if (res.data.status === \"success\") {\r\n      applies.value = res.data.data || [];\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Ïù¥Î≤§Ìä∏ Ïã†Ï≤≠ ÎÇ¥Ïó≠ Ï°∞Ìöå Ïã§Ìå®:\", err);\r\n  }\r\n};\r\n\r\n// Ï∑®ÏÜå Ï≤òÎ¶¨\r\nconst handleCancel = async (apply_code) => {\r\n  if (!confirm(\"Ï†ïÎßêÎ°ú Ïã†Ï≤≠ÏùÑ Ï∑®ÏÜåÌïòÏãúÍ≤†ÏäµÎãàÍπå?\")) return;\r\n\r\n  try {\r\n    const res = await axios.delete(`/api/event/apply/${apply_code}`);\r\n    if (res.data.status === \"success\") {\r\n      await fetchApplies();\r\n      alert(\"Ïã†Ï≤≠Ïù¥ Ï∑®ÏÜåÎêòÍ≥† Ïã†Ï≤≠Ïù∏ÏõêÏù¥ ÏóÖÎç∞Ïù¥Ìä∏ ÎêòÏóàÏäµÎãàÎã§.\");\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Ïã†Ï≤≠ Ï∑®ÏÜå Ïã§Ìå®:\", err);\r\n    alert(\"Ïã†Ï≤≠ Ï∑®ÏÜå Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\");\r\n  }\r\n};\r\n\r\nconst goMyApplyInfo = (apply_code, event_code) => {\r\n  router.push({\r\n    name: \"EventMyApplyInfo\",\r\n    params: { applyCode: apply_code, eventCode: event_code },\r\n  });\r\n};\r\n\r\nonMounted(fetchApplies);\r\n</script>\r\n\r\n<style scoped>\r\n/* Ï†ÑÏ≤¥ ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï */\r\n.apply-page {\r\n  margin: 24px auto;\r\n  padding: 0 16px 40px;\r\n  width: 1600px; /* üî• Ìè≠ Í≥†Ï†ï */\r\n}\r\n\r\n/* Ï†úÎ™© */\r\n.page-title {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n/* ÌÖåÏù¥Î∏î ÎûòÌçº */\r\n.table-wrap {\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  background: #ffffff;\r\n  box-shadow: 0 2px 6px rgba(15, 23, 42, 0.06);\r\n  border: 1px solid #e2e7eb;\r\n}\r\n\r\n/* ÌÖåÏù¥Î∏î */\r\n.apply-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 15px; /* üî• Ìè∞Ìä∏ 15px */\r\n}\r\n\r\n.apply-table th,\r\n.apply-table td {\r\n  padding: 10px 12px;\r\n  border-bottom: 1px solid #edf2f7;\r\n  text-align: center;\r\n}\r\n\r\n.apply-table th {\r\n  background: #f5f7fb;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Ï†ïÎ†¨ Í∑úÏπô */\r\n.text-left {\r\n  text-align: left !important;\r\n}\r\n.text-right {\r\n  text-align: right !important;\r\n}\r\n.text-center {\r\n  text-align: center !important;\r\n}\r\n\r\n/* hover Ìö®Í≥º */\r\n.click-row {\r\n  cursor: pointer;\r\n}\r\n.click-row:hover {\r\n  background-color: #f9fbff;\r\n}\r\n\r\n/* Îπà Í∞í ÌëúÏãú */\r\n.empty-row {\r\n  text-align: center;\r\n  padding: 18px 0;\r\n  color: #6b7280;\r\n}\r\n\r\n/* Ï∑®ÏÜå Î≤ÑÌäº */\r\n.cancel-btn {\r\n  background: #c53030;\r\n  color: white;\r\n  padding: 4px 12px;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  transition: 0.15s;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background: #9b2c2c;\r\n}\r\n</style>\r\n","import script from \"./EventApplyList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EventApplyList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EventApplyList.vue?vue&type=style&index=0&id=0f7ab922&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0f7ab922\"]])\n\nexport default __exports__"],"names":["router","useRouter","applies","ref","user_code","JSON","parse","localStorage","getItem","fetchApplies","async","res","axios","get","data","status","value","err","console","error","handleCancel","confirm","delete","apply_code","alert","goMyApplyInfo","event_code","push","name","params","applyCode","eventCode","onMounted","__exports__"],"sourceRoot":""}