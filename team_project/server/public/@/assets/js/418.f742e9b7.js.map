{"version":3,"file":"@/assets/js/418.f742e9b7.js","mappings":"o/CAoJA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MAETC,GAAkBC,EAAAA,EAAAA,IAAS,IAAML,EAAMM,OAAOF,iBAC9CG,GAAOC,EAAAA,EAAAA,IAAI,MACXC,GAASJ,EAAAA,EAAAA,IAAS,IAAME,EAAKG,OAC7BC,GAAUH,EAAAA,EAAAA,KAAI,GACdI,GAAQJ,EAAAA,EAAAA,IAAI,MAElBK,eAAeC,IACbH,EAAQD,OAAQ,EAChBE,EAAMF,MAAQ,KACd,IACE,IAAKN,EAAgBM,MACnB,MAAM,IAAIK,MAAM,kBAElB,MAAMC,QAAYC,EAAAA,EAAMC,IACtB,0BAA0Bd,EAAgBM,SAE5CH,EAAKG,MAAQM,EAAIT,MAAMY,QAAU,IACnC,CAAE,MAAOC,GACPR,EAAMF,MAAQU,GAAGC,SAAW,aAC5Bd,EAAKG,MAAQ,IACf,CAAE,QACAC,EAAQD,OAAQ,CAClB,CACF,CAEA,SAASY,KACPpB,EAAOqB,KAAK,CAAEC,KAAM,iBACtB,CAEA,SAASC,KACFhB,EAAOC,OACZR,EAAOqB,KAAK,CACVC,KAAM,cACNlB,OAAQ,CAAEoB,GAAIjB,EAAOC,MAAMiB,oBAE/B,CAGA,SAASC,GAAkBC,GACzB,MAAMC,GAAKD,GAAQ,IAAIE,WAAWC,OAAOC,cACzC,OAAQH,GACN,IAAK,QACH,MAAO,OACT,IAAK,WACH,MAAO,OACT,IAAK,OACH,MAAO,MACT,IAAK,WACH,MAAO,MACT,QACE,OAAOD,GAAQ,IAErB,CAOA,SAASK,GAAiBC,GACxB,MAAMC,EAAMD,GAAME,cAClB,OAAKD,EAGDE,MAAMC,QAAQH,GACTA,EACJI,IAAKC,GACa,kBAANA,EAAuBA,EAC9BA,GAAkB,kBAANA,EACPA,EAAEC,OAASD,EAAEE,MAAQ,GAEvB,IAERH,IAAKC,GAAMG,OAAOH,GAAGT,QACrBa,OAAQJ,GAAMA,EAAEK,OAAS,GAIX,kBAARV,EACFA,EACJW,MAAM,SACNP,IAAKC,GAAMA,EAAET,QACba,OAAQJ,GAAMA,EAAEK,OAAS,GAIvB,GAzBU,EA0BnB,C,OAEAE,EAAAA,EAAAA,IAAUlC,IACVmC,EAAAA,EAAAA,IAAM7C,EAAiBU,G,0tEC3OvB,MAAMoC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue-material-dashboard-2/./src/views/SurveyDetail.vue","webpack://vue-material-dashboard-2/./src/views/SurveyDetail.vue?96ce"],"sourcesContent":["<template>\r\n  <section class=\"p-6 max-w-5xl mx-auto\">\r\n    <!-- 헤더 -->\r\n    <header class=\"mb-4 flex items-center justify-between header-row\">\r\n      <h2 class=\"text-2xl font-semibold\">버전 상세</h2>\r\n\r\n      <div class=\"space-x-2\">\r\n        <MaterialButton\r\n          color=\"dark\"\r\n          size=\"sm\"\r\n          variant=\"outlined\"\r\n          @click=\"goBack\"\r\n        >\r\n          ← 목록으로\r\n        </MaterialButton>\r\n      </div>\r\n    </header>\r\n\r\n    <!-- 상태 -->\r\n    <div v-if=\"loading\">불러오는 중...</div>\r\n    <div v-else-if=\"error\" class=\"text-red-600\">{{ error }}</div>\r\n    <div v-else-if=\"!survey\">조사지를 찾을 수 없습니다.</div>\r\n\r\n    <!-- 실제 내용 -->\r\n    <div v-else>\r\n      <!-- 상단 메타 정보 카드 -->\r\n      <div class=\"meta-card\">\r\n        <div class=\"meta-row\">\r\n          <div class=\"meta-label\">템플릿 코드</div>\r\n          <div class=\"meta-value\">{{ survey.template_code }}</div>\r\n        </div>\r\n        <div class=\"meta-row\">\r\n          <div class=\"meta-label\">템플릿 버전 코드</div>\r\n          <div class=\"meta-value\">{{ survey.template_ver_code }}</div>\r\n        </div>\r\n        <div class=\"meta-row\">\r\n          <div class=\"meta-label\">메이저 버전</div>\r\n          <div class=\"meta-value\">{{ survey.version_no }}</div>\r\n        </div>\r\n        <div class=\"meta-row\">\r\n          <div class=\"meta-label\">세부 버전</div>\r\n          <div class=\"meta-value\">{{ survey.version_detail_no }}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 섹션들 -->\r\n      <div\r\n        v-for=\"(section, sIdx) in survey.sections\"\r\n        :key=\"section.section_code\"\r\n        class=\"section-card\"\r\n      >\r\n        <!-- 섹션 헤더 -->\r\n        <div class=\"section-header\">\r\n          <div>\r\n            <h4 class=\"section-title\">\r\n              항목 #{{ sIdx + 1 }} — {{ section.section_title || \"제목 없음\" }}\r\n            </h4>\r\n            <p class=\"section-desc\">\r\n              {{ section.section_desc || \"설명 없음\" }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 세부항목들 -->\r\n        <div\r\n          v-for=\"(sub, subIdx) in section.subsections\"\r\n          :key=\"sub.subsection_code\"\r\n          class=\"subsection-card\"\r\n        >\r\n          <div class=\"sub-header\">\r\n            <div>\r\n              <h5 class=\"sub-title\">\r\n                세부항목 #{{ sIdx + 1 }}.{{ subIdx + 1 }} —\r\n                {{ sub.subsection_title || \"제목 없음\" }}\r\n              </h5>\r\n              <p class=\"sub-desc\">\r\n                {{ sub.subsection_desc || \"설명 없음\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 질문 리스트 -->\r\n          <ul class=\"space-y-3\">\r\n            <li\r\n              v-for=\"(item, iIdx) in sub.items\"\r\n              :key=\"item.item_code\"\r\n              class=\"question-card\"\r\n            >\r\n              <div class=\"q-title-row\">\r\n                <div class=\"q-main\">\r\n                  <span class=\"q-index\">\r\n                    {{ sIdx + 1 }}.{{ subIdx + 1 }}.{{ iIdx + 1 }}\r\n                  </span>\r\n                  <span class=\"q-text\">\r\n                    {{ item.question_text || \"질문 내용 없음\" }}\r\n                  </span>\r\n                  <span\r\n                    v-if=\"item.is_required === 'Y'\"\r\n                    class=\"q-required-badge\"\r\n                  >\r\n                    필수\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"q-meta\">\r\n                <div>\r\n                  질문 유형:\r\n                  <span class=\"q-type\">\r\n                    {{ questionTypeLabel(item.question_type) }}\r\n                  </span>\r\n                </div>\r\n\r\n                <!-- 옵션 값 출력 -->\r\n                <div v-if=\"normalizeOptions(item).length\" class=\"q-options\">\r\n                  <span class=\"q-options-label\">질문 내용:</span>\r\n                  <ul class=\"q-options-list\">\r\n                    <li\r\n                      v-for=\"(opt, oIdx) in normalizeOptions(item)\"\r\n                      :key=\"oIdx\"\r\n                      class=\"q-option-item\"\r\n                    >\r\n                      {{ opt }}\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 하단 버튼 -->\r\n      <div class=\"form-actions\">\r\n        <MaterialButton color=\"dark\" size=\"sm\" @click=\"goEdit\">\r\n          수정하기\r\n        </MaterialButton>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch, computed } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport MaterialButton from \"@/components/MaterialButton.vue\";\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\nconst templateVerCode = computed(() => route.params.templateVerCode);\r\nconst data = ref(null);\r\nconst survey = computed(() => data.value); // 템플릿에서 쓰는 별칭\r\nconst loading = ref(false);\r\nconst error = ref(null);\r\n\r\nasync function fetchDetail() {\r\n  loading.value = true;\r\n  error.value = null;\r\n  try {\r\n    if (!templateVerCode.value) {\r\n      throw new Error(\"세부버전 코드가 없습니다.\");\r\n    }\r\n    const res = await axios.get(\r\n      `/api/survey/detail/ver/${templateVerCode.value}`\r\n    );\r\n    data.value = res.data?.result || null;\r\n  } catch (e) {\r\n    error.value = e?.message || \"상세 조회 중 오류\";\r\n    data.value = null;\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n}\r\n\r\nfunction goBack() {\r\n  router.push({ name: \"surveyVersion\" });\r\n}\r\n\r\nfunction goEdit() {\r\n  if (!survey.value) return;\r\n  router.push({\r\n    name: \"survey-edit\",\r\n    params: { id: survey.value.template_ver_code },\r\n  });\r\n}\r\n\r\n/** 질문 유형 → 한글 라벨 매핑 */\r\nfunction questionTypeLabel(type) {\r\n  const t = (type ?? \"\").toString().trim().toUpperCase();\r\n  switch (t) {\r\n    case \"RADIO\":\r\n      return \"단일선택\";\r\n    case \"CHECKBOX\":\r\n      return \"다중선택\";\r\n    case \"TEXT\":\r\n      return \"단답형\";\r\n    case \"TEXTAREA\":\r\n      return \"서술형\";\r\n    default:\r\n      return type || \"-\";\r\n  }\r\n}\r\n\r\n/**\r\n * option_values를 화면용 배열로 변환\r\n * - 배열이면 그대로(객체면 label/text 우선)\r\n * - 문자열이면 개행/쉼표 기준으로 분리\r\n */\r\nfunction normalizeOptions(item) {\r\n  const raw = item?.option_values;\r\n  if (!raw) return [];\r\n\r\n  // 배열 형태인 경우\r\n  if (Array.isArray(raw)) {\r\n    return raw\r\n      .map((v) => {\r\n        if (typeof v === \"string\") return v;\r\n        if (v && typeof v === \"object\") {\r\n          return v.label ?? v.text ?? \"\";\r\n        }\r\n        return \"\";\r\n      })\r\n      .map((v) => String(v).trim())\r\n      .filter((v) => v.length > 0);\r\n  }\r\n\r\n  // 문자열 형태인 경우 (줄바꿈, 쉼표 기준 분리)\r\n  if (typeof raw === \"string\") {\r\n    return raw\r\n      .split(/[\\n,]/)\r\n      .map((v) => v.trim())\r\n      .filter((v) => v.length > 0);\r\n  }\r\n\r\n  // 그 외는 표시 X\r\n  return [];\r\n}\r\n\r\nonMounted(fetchDetail);\r\nwatch(templateVerCode, fetchDetail);\r\n</script>\r\n\r\n<style scoped>\r\nsection {\r\n  color: #111827;\r\n}\r\n\r\n/* 헤더 한 줄 유지 */\r\n.header-row {\r\n  flex-wrap: nowrap;\r\n}\r\n\r\n/* 상단 메타 정보 카드 */\r\n.meta-card {\r\n  border-radius: 0.9rem;\r\n  border: 1px solid #e5e7eb;\r\n  background-color: #ffffff;\r\n  padding: 1.25rem 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n  box-shadow: 0 10px 25px rgba(15, 23, 42, 0.04);\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\r\n  gap: 0.75rem 1.5rem;\r\n}\r\n\r\n.meta-row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.15rem;\r\n}\r\n\r\n.meta-label {\r\n  font-size: 0.75rem;\r\n  letter-spacing: 0.08em;\r\n  text-transform: uppercase;\r\n  color: #9ca3af;\r\n}\r\n\r\n.meta-value {\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  color: #111827;\r\n}\r\n\r\n/* 섹션 카드 */\r\n.section-card {\r\n  border-radius: 0.9rem;\r\n  border: 1px solid #e5e7eb;\r\n  background-color: #ffffff;\r\n  padding: 1.25rem 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n  box-shadow: 0 10px 25px rgba(15, 23, 42, 0.05);\r\n}\r\n\r\n/* 섹션 헤더 */\r\n.section-header {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid #e5e7eb;\r\n  padding-bottom: 0.75rem;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.section-title {\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.section-desc {\r\n  font-size: 0.85rem;\r\n  color: #6b7280;\r\n  margin-top: 0.25rem;\r\n}\r\n\r\n/* 세부항목 카드 */\r\n.subsection-card {\r\n  border-radius: 0.75rem;\r\n  border: 1px solid #e5e7eb;\r\n  background-color: #f9fafb;\r\n  padding: 0.9rem 1rem;\r\n  margin-top: 0.9rem;\r\n}\r\n\r\n.sub-header {\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.sub-title {\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.sub-desc {\r\n  font-size: 0.8rem;\r\n  color: #6b7280;\r\n  margin-top: 0.15rem;\r\n}\r\n\r\n/* 질문 카드 */\r\n.question-card {\r\n  border-radius: 0.7rem;\r\n  border: 1px dashed #d1d5db;\r\n  padding: 0.75rem 0.9rem;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.q-title-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.q-main {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  gap: 0.35rem;\r\n}\r\n\r\n.q-index {\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  color: #6b7280;\r\n}\r\n\r\n.q-text {\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  color: #111827;\r\n}\r\n\r\n.q-required-badge {\r\n  font-size: 0.7rem;\r\n  padding: 0.1rem 0.4rem;\r\n  border-radius: 9999px;\r\n  background-color: #fee2e2;\r\n  color: #b91c1c;\r\n}\r\n\r\n.q-meta {\r\n  margin-top: 0.45rem;\r\n  font-size: 0.78rem;\r\n  color: #6b7280;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.25rem;\r\n}\r\n\r\n.q-type {\r\n  font-weight: 500;\r\n  color: #111827;\r\n}\r\n\r\n/* 옵션 영역 */\r\n.q-options {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 0.35rem;\r\n  margin-top: 0.1rem;\r\n}\r\n\r\n.q-options-label {\r\n  flex: 0 0 auto;\r\n  font-weight: 500;\r\n  color: #4b5563;\r\n}\r\n\r\n.q-options-list {\r\n  flex: 1 1 auto;\r\n  list-style-type: disc;\r\n  padding-left: 1.1rem;\r\n  margin: 0;\r\n}\r\n\r\n.q-option-item {\r\n  font-size: 0.78rem;\r\n  color: #374151;\r\n}\r\n\r\n/* 하단 버튼 영역 */\r\n.form-actions {\r\n  padding-top: 0.9rem;\r\n  border-top: 1px solid #e5e7eb;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 0.5rem;\r\n}\r\n</style>\r\n","import script from \"./SurveyDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SurveyDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SurveyDetail.vue?vue&type=style&index=0&id=373fedba&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-373fedba\"]])\n\nexport default __exports__"],"names":["route","useRoute","router","useRouter","templateVerCode","computed","params","data","ref","survey","value","loading","error","async","fetchDetail","Error","res","axios","get","result","e","message","goBack","push","name","goEdit","id","template_ver_code","questionTypeLabel","type","t","toString","trim","toUpperCase","normalizeOptions","item","raw","option_values","Array","isArray","map","v","label","text","String","filter","length","split","onMounted","watch","__exports__"],"sourceRoot":""}