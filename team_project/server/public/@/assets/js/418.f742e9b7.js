"use strict";(self["webpackChunkvue_material_dashboard_2"]=self["webpackChunkvue_material_dashboard_2"]||[]).push([[418],{418:function(e,s,a){a.r(s),a.d(s,{default:function(){return P}});a(8743),a(3725),a(5019),a(1339);var l=a(641),t=a(2644),i=a(9841),u=a(5220),c=a(4335),n=a(6698);const v=e=>((0,l.Qi)("data-v-373fedba"),e=e(),(0,l.jt)(),e),r={class:"p-6 max-w-5xl mx-auto"},o={class:"mb-4 flex items-center justify-between header-row"},d=v(()=>(0,l.Lk)("h2",{class:"text-2xl font-semibold"},"버전 상세",-1)),k={class:"space-x-2"},_={key:0},m={key:1,class:"text-red-600"},p={key:2},L={key:3},b={class:"meta-card"},f={class:"meta-row"},y=v(()=>(0,l.Lk)("div",{class:"meta-label"},"템플릿 코드",-1)),C={class:"meta-value"},E={class:"meta-row"},h=v(()=>(0,l.Lk)("div",{class:"meta-label"},"템플릿 버전 코드",-1)),X={class:"meta-value"},q={class:"meta-row"},w=v(()=>(0,l.Lk)("div",{class:"meta-label"},"메이저 버전",-1)),x={class:"meta-value"},g={class:"meta-row"},A=v(()=>(0,l.Lk)("div",{class:"meta-label"},"세부 버전",-1)),K={class:"meta-value"},F={class:"section-header"},I={class:"section-title"},R={class:"section-desc"},W={class:"sub-header"},T={class:"sub-title"},j={class:"sub-desc"},Q={class:"space-y-3"},S={class:"q-title-row"},V={class:"q-main"},z={class:"q-index"},B={class:"q-text"},D={key:0,class:"q-required-badge"},O={class:"q-meta"},H={class:"q-type"},U={key:0,class:"q-options"},Y=v(()=>(0,l.Lk)("span",{class:"q-options-label"},"질문 내용:",-1)),$={class:"q-options-list"},G={class:"form-actions"};var J={__name:"SurveyDetail",setup(e){const s=(0,u.lq)(),a=(0,u.rd)(),v=(0,l.EW)(()=>s.params.templateVerCode),J=(0,i.KR)(null),M=(0,l.EW)(()=>J.value),N=(0,i.KR)(!1),P=(0,i.KR)(null);async function Z(){N.value=!0,P.value=null;try{if(!v.value)throw new Error("세부버전 코드가 없습니다.");const e=await c.A.get(`/api/survey/detail/ver/${v.value}`);J.value=e.data?.result||null}catch(e){P.value=e?.message||"상세 조회 중 오류",J.value=null}finally{N.value=!1}}function ee(){a.push({name:"surveyVersion"})}function se(){M.value&&a.push({name:"survey-edit",params:{id:M.value.template_ver_code}})}function ae(e){const s=(e??"").toString().trim().toUpperCase();switch(s){case"RADIO":return"단일선택";case"CHECKBOX":return"다중선택";case"TEXT":return"단답형";case"TEXTAREA":return"서술형";default:return e||"-"}}function le(e){const s=e?.option_values;return s?Array.isArray(s)?s.map(e=>"string"===typeof e?e:e&&"object"===typeof e?e.label??e.text??"":"").map(e=>String(e).trim()).filter(e=>e.length>0):"string"===typeof s?s.split(/[\n,]/).map(e=>e.trim()).filter(e=>e.length>0):[]:[]}return(0,l.sV)(Z),(0,l.wB)(v,Z),(e,s)=>((0,l.uX)(),(0,l.CE)("section",r,[(0,l.Lk)("header",o,[d,(0,l.Lk)("div",k,[(0,l.bF)(n.A,{color:"dark",size:"sm",variant:"outlined",onClick:ee},{default:(0,l.k6)(()=>[(0,l.eW)(" ← 목록으로 ")]),_:1})])]),N.value?((0,l.uX)(),(0,l.CE)("div",_,"불러오는 중...")):P.value?((0,l.uX)(),(0,l.CE)("div",m,(0,t.v_)(P.value),1)):M.value?((0,l.uX)(),(0,l.CE)("div",L,[(0,l.Lk)("div",b,[(0,l.Lk)("div",f,[y,(0,l.Lk)("div",C,(0,t.v_)(M.value.template_code),1)]),(0,l.Lk)("div",E,[h,(0,l.Lk)("div",X,(0,t.v_)(M.value.template_ver_code),1)]),(0,l.Lk)("div",q,[w,(0,l.Lk)("div",x,(0,t.v_)(M.value.version_no),1)]),(0,l.Lk)("div",g,[A,(0,l.Lk)("div",K,(0,t.v_)(M.value.version_detail_no),1)])]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(M.value.sections,(e,s)=>((0,l.uX)(),(0,l.CE)("div",{key:e.section_code,class:"section-card"},[(0,l.Lk)("div",F,[(0,l.Lk)("div",null,[(0,l.Lk)("h4",I," 항목 #"+(0,t.v_)(s+1)+" — "+(0,t.v_)(e.section_title||"제목 없음"),1),(0,l.Lk)("p",R,(0,t.v_)(e.section_desc||"설명 없음"),1)])]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.subsections,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:e.subsection_code,class:"subsection-card"},[(0,l.Lk)("div",W,[(0,l.Lk)("div",null,[(0,l.Lk)("h5",T," 세부항목 #"+(0,t.v_)(s+1)+"."+(0,t.v_)(a+1)+" — "+(0,t.v_)(e.subsection_title||"제목 없음"),1),(0,l.Lk)("p",j,(0,t.v_)(e.subsection_desc||"설명 없음"),1)])]),(0,l.Lk)("ul",Q,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.items,(e,i)=>((0,l.uX)(),(0,l.CE)("li",{key:e.item_code,class:"question-card"},[(0,l.Lk)("div",S,[(0,l.Lk)("div",V,[(0,l.Lk)("span",z,(0,t.v_)(s+1)+"."+(0,t.v_)(a+1)+"."+(0,t.v_)(i+1),1),(0,l.Lk)("span",B,(0,t.v_)(e.question_text||"질문 내용 없음"),1),"Y"===e.is_required?((0,l.uX)(),(0,l.CE)("span",D," 필수 ")):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",O,[(0,l.Lk)("div",null,[(0,l.eW)(" 질문 유형: "),(0,l.Lk)("span",H,(0,t.v_)(ae(e.question_type)),1)]),le(e).length?((0,l.uX)(),(0,l.CE)("div",U,[Y,(0,l.Lk)("ul",$,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(le(e),(e,s)=>((0,l.uX)(),(0,l.CE)("li",{key:s,class:"q-option-item"},(0,t.v_)(e),1))),128))])])):(0,l.Q3)("",!0)])]))),128))])]))),128))]))),128)),(0,l.Lk)("div",G,[(0,l.bF)(n.A,{color:"dark",size:"sm",onClick:se},{default:(0,l.k6)(()=>[(0,l.eW)(" 수정하기 ")]),_:1})])])):((0,l.uX)(),(0,l.CE)("div",p,"조사지를 찾을 수 없습니다."))]))}},M=a(6262);const N=(0,M.A)(J,[["__scopeId","data-v-373fedba"]]);var P=N}}]);
//# sourceMappingURL=418.f742e9b7.js.map