"use strict";(self["webpackChunkvue_material_dashboard_2"]=self["webpackChunkvue_material_dashboard_2"]||[]).push([[659],{8040:function(t,e,a){a.r(e),a.d(e,{default:function(){return $}});a(8743);var l=a(641),s=a(2644),c=a(9322),n=a(9841),r=a(4335),p=a(5220);const u=t=>((0,l.Qi)("data-v-0f7ab922"),t=t(),(0,l.jt)(),t),o={class:"apply-page"},d=u(()=>(0,l.Lk)("h2",{class:"page-title"},"이벤트 신청 내역",-1)),k={class:"table-wrap"},_={class:"apply-table"},v=u(()=>(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"신청코드"),(0,l.Lk)("th",null,"이벤트명"),(0,l.Lk)("th",null,"세부 이벤트명"),(0,l.Lk)("th",null,"신청일정"),(0,l.Lk)("th",null,"신청인원 / 마감인원"),(0,l.Lk)("th",null,"신청상태"),(0,l.Lk)("th",null,"취소")])],-1)),i=["onClick"],L={class:"text-center"},y={class:"text-left"},h={class:"text-left"},b={class:"text-center"},f={class:"text-center"},m={class:"text-center"},C={class:"text-center"},w=["onClick"],x={key:0},g=u(()=>(0,l.Lk)("td",{colspan:"7",class:"empty-row"},"신청한 이벤트가 없습니다.",-1)),E=[g];var A={__name:"EventApplyList",setup(t){const e=(0,p.rd)(),a=(0,n.KR)([]),u=JSON.parse(localStorage.getItem("user")||"{}").user_code,g=async()=>{try{const t=await r.A.get(`/api/event/applyList?user_code=${u}`);"success"===t.data.status&&(a.value=t.data.data||[])}catch(t){console.error("이벤트 신청 내역 조회 실패:",t)}},A=async t=>{if(confirm("정말로 신청을 취소하시겠습니까?"))try{const e=await r.A.delete(`/api/event/apply/${t}`);"success"===e.data.status&&(await g(),alert("신청이 취소되고 신청인원이 업데이트 되었습니다."))}catch(e){console.error("신청 취소 실패:",e),alert("신청 취소 중 오류가 발생했습니다.")}},I=(t,a)=>{e.push({name:"EventMyApplyInfo",params:{applyCode:t,eventCode:a}})};return(0,l.sV)(g),(t,e)=>((0,l.uX)(),(0,l.CE)("section",o,[d,(0,l.Lk)("div",k,[(0,l.Lk)("table",_,[v,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,(t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.apply_code||e,class:"click-row",onClick:e=>I(t.apply_code,t.event_code)},[(0,l.Lk)("td",L,(0,s.v_)(t.apply_code),1),(0,l.Lk)("td",y,(0,s.v_)(t.event_name),1),(0,l.Lk)("td",h,(0,s.v_)(t.sub_event_name||"-"),1),(0,l.Lk)("td",b,(0,s.v_)(t.apply_period),1),(0,l.Lk)("td",f,(0,s.v_)(t.current_count)+" / "+(0,s.v_)(t.max_count),1),(0,l.Lk)("td",m,(0,s.v_)(t.apply_status_name),1),(0,l.Lk)("td",C,[(0,l.Lk)("button",{class:"cancel-btn",onClick:(0,c.D$)(e=>A(t.apply_code),["stop"])}," 취소 ",8,w)])],8,i))),128)),a.value.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("tr",x,E))])])])]))}},I=a(6262);const X=(0,I.A)(A,[["__scopeId","data-v-0f7ab922"]]);var $=X}}]);
//# sourceMappingURL=659.49b153eb.js.map