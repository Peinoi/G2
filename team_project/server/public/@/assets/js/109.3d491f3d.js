"use strict";(self["webpackChunkvue_material_dashboard_2"]=self["webpackChunkvue_material_dashboard_2"]||[]).push([[109],{109:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});a(8743);var s=a(641),l=a(9841),n=a(2644),r=a(5220),u=a(4335);const c=e=>((0,s.Qi)("data-v-38680c3a"),e=e(),(0,s.jt)(),e),o={class:"apply-page"},d={key:0,class:"page-title"},k={key:1,class:"page-title"},_={class:"table-wrap"},p={class:"apply-table"},v=c(()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"이벤트코드"),(0,s.Lk)("th",null,"이벤트명"),(0,s.Lk)("th",null,"이벤트 요청일"),(0,s.Lk)("th",null,"메인 매니저"),(0,s.Lk)("th",null,"계획 상태"),(0,s.Lk)("th",null,"결과 상태"),(0,s.Lk)("th",null,"진행계획"),(0,s.Lk)("th",null,"진행결과")])],-1)),i={class:"text-center"},L={class:"text-left"},h={class:"text-center"},g={class:"text-center"},C={class:"text-center"},y={class:"text-center"},b={key:1},m={class:"text-center"},f=["onClick"],A={class:"text-center"},E=["onClick"],X={key:1},w={key:0},x=c(()=>(0,s.Lk)("td",{colspan:"8",class:"empty-row"},"등록된 이벤트가 없습니다.",-1)),I=[x];var R={__name:"EventApplyResult",setup(e){const t=(0,r.rd)(),a=(0,l.KR)([]),c=()=>{const e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e).user_code||null}catch{return null}},x=()=>{const e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e).role||null}catch{return null}},R=c(),S=x(),Q=e=>e?String(e).slice(0,10):"-",B=async()=>{try{if(!R)return void alert("로그인 상태가 아닙니다.");const e={role:S,user_code:R};"AA3"!==S&&(e.user_code=R);const t=await u.A.get("/api/event/applyResult",{params:e});a.value=t.data.data||[]}catch(e){console.error("이벤트 요청/결과 목록 조회 실패:",e)}},j=e=>{switch(e){case"BA1":return"badge-request";case"BA2":return"badge-approve";case"BA3":return"badge-reject";default:return"badge-default"}},J=e=>{t.push({name:"EventApplyInfo",params:{eventCode:e}})},K=e=>{t.push({name:"EventResultInfo",params:{resultCode:e}})};return(0,s.sV)(B),(e,t)=>((0,s.uX)(),(0,s.CE)("section",o,["AA2"===(0,l.R1)(S)?((0,s.uX)(),(0,s.CE)("h2",d,"내 요청 목록")):(0,s.Q3)("",!0),"AA3"===(0,l.R1)(S)?((0,s.uX)(),(0,s.CE)("h2",k," 이벤트 계획/결과 승인 요청 관리 ")):(0,s.Q3)("",!0),(0,s.Lk)("div",_,[(0,s.Lk)("table",p,[v,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.value,(e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:e.event_code||t,class:"click-row"},[(0,s.Lk)("td",i,(0,n.v_)(e.event_code),1),(0,s.Lk)("td",L,(0,n.v_)(e.event_name),1),(0,s.Lk)("td",h,(0,n.v_)(Q(e.event_register_date)),1),(0,s.Lk)("td",g,(0,n.v_)(e.main_manager_name||"-"),1),(0,s.Lk)("td",C,[(0,s.Lk)("span",{class:(0,n.C4)(["status-badge",j(e.register_status)])},(0,n.v_)(e.register_status_name||"-"),3)]),(0,s.Lk)("td",y,[e.event_result_code?((0,s.uX)(),(0,s.CE)("span",{key:0,class:(0,n.C4)(["status-badge",j(e.result_status)])},(0,n.v_)(e.result_status_name||"-"),3)):((0,s.uX)(),(0,s.CE)("span",b,"-"))]),(0,s.Lk)("td",m,[(0,s.Lk)("button",{class:"view-btn",onClick:t=>J(e.event_code)}," 보기 ",8,f)]),(0,s.Lk)("td",A,[e.event_result_code?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"view-btn",onClick:t=>K(e.event_result_code)}," 보기 ",8,E)):((0,s.uX)(),(0,s.CE)("span",X,"-"))])]))),128)),a.value.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("tr",w,I))])])])]))}},S=a(6262);const Q=(0,S.A)(R,[["__scopeId","data-v-38680c3a"]]);var B=Q}}]);
//# sourceMappingURL=109.3d491f3d.js.map