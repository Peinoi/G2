{"version":3,"file":"@/assets/js/109.3d491f3d.js","mappings":"mkCA6FA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAASC,EAAAA,EAAAA,IAAI,IAEbC,EAAmBA,KACvB,MAAMC,EAAUC,aAAaC,QAAQ,QACrC,IAAKF,EAAS,OAAO,KACrB,IACE,OAAOG,KAAKC,MAAMJ,GAASK,WAAa,IAC1C,CAAE,MACA,OAAO,IACT,GAGIC,EAAeA,KACnB,MAAMN,EAAUC,aAAaC,QAAQ,QACrC,IAAKF,EAAS,OAAO,KACrB,IACE,OAAOG,KAAKC,MAAMJ,GAASO,MAAQ,IACrC,CAAE,MACA,OAAO,IACT,GAGIF,EAAYN,IACZQ,EAAOD,IAEPE,EAAcC,GAAOA,EAAIC,OAAOD,GAAGE,MAAM,EAAG,IAAM,IAElDC,EAAaC,UACjB,IACE,IAAKR,EAEH,YADAS,MAAM,iBAIR,MAAMC,EAAS,CAAER,OAAMF,aACV,QAATE,IAAgBQ,EAAOV,UAAYA,GAEvC,MAAMW,QAAYC,EAAAA,EAAMC,IAAI,yBAA0B,CAAEH,WACxDlB,EAAOsB,MAAQH,EAAII,KAAKA,MAAQ,EAClC,CAAE,MAAOC,GACPC,QAAQC,MAAM,sBAAuBF,EACvC,GAGIG,EAAoBC,IACxB,OAAQA,GACN,IAAK,MACH,MAAO,gBACT,IAAK,MACH,MAAO,gBACT,IAAK,MACH,MAAO,eACT,QACE,MAAO,kBAIPC,EAAYC,IAChBhC,EAAOiC,KAAK,CAAEC,KAAM,iBAAkBd,OAAQ,CAAEe,UAAWH,MAGvDI,EAAcC,IAClBrC,EAAOiC,KAAK,CACVC,KAAM,kBACNd,OAAQ,CAAEkB,WAAYD,M,OAI1BE,EAAAA,EAAAA,IAAUtB,G,swCC5JV,MAAMuB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue-material-dashboard-2/./src/views/EventApplyResult.vue","webpack://vue-material-dashboard-2/./src/views/EventApplyResult.vue?64cc"],"sourcesContent":["<template>\r\n  <section class=\"apply-page\">\r\n    <h2 class=\"page-title\" v-if=\"role === 'AA2'\">내 요청 목록</h2>\r\n    <h2 class=\"page-title\" v-if=\"role === 'AA3'\">\r\n      이벤트 계획/결과 승인 요청 관리\r\n    </h2>\r\n    <div class=\"table-wrap\">\r\n      <table class=\"apply-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>이벤트코드</th>\r\n            <th>이벤트명</th>\r\n            <th>이벤트 요청일</th>\r\n            <th>메인 매니저</th>\r\n            <th>계획 상태</th>\r\n            <th>결과 상태</th>\r\n            <th>진행계획</th>\r\n            <th>진행결과</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          <tr\r\n            v-for=\"(row, idx) in events\"\r\n            :key=\"row.event_code || idx\"\r\n            class=\"click-row\"\r\n          >\r\n            <td class=\"text-center\">{{ row.event_code }}</td>\r\n\r\n            <!-- 이름 → 왼쪽 정렬 -->\r\n            <td class=\"text-left\">{{ row.event_name }}</td>\r\n\r\n            <!-- 날짜 → 중앙정렬 -->\r\n            <td class=\"text-center\">\r\n              {{ formatDate(row.event_register_date) }}\r\n            </td>\r\n\r\n            <!-- 이름 → 중앙 정렬 -->\r\n            <td class=\"text-center\">{{ row.main_manager_name || \"-\" }}</td>\r\n\r\n            <!-- 상태값 → 중앙 -->\r\n            <td class=\"text-center\">\r\n              <span\r\n                :class=\"['status-badge', statusBadgeClass(row.register_status)]\"\r\n              >\r\n                {{ row.register_status_name || \"-\" }}\r\n              </span>\r\n            </td>\r\n\r\n            <td class=\"text-center\">\r\n              <span\r\n                v-if=\"row.event_result_code\"\r\n                :class=\"['status-badge', statusBadgeClass(row.result_status)]\"\r\n              >\r\n                {{ row.result_status_name || \"-\" }}\r\n              </span>\r\n              <span v-else>-</span>\r\n            </td>\r\n\r\n            <!-- 중앙 -->\r\n            <td class=\"text-center\">\r\n              <button class=\"view-btn\" @click=\"viewPlan(row.event_code)\">\r\n                보기\r\n              </button>\r\n            </td>\r\n\r\n            <!-- 중앙 -->\r\n            <td class=\"text-center\">\r\n              <button\r\n                v-if=\"row.event_result_code\"\r\n                class=\"view-btn\"\r\n                @click=\"viewResult(row.event_result_code)\"\r\n              >\r\n                보기\r\n              </button>\r\n              <span v-else>-</span>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr v-if=\"!events.length\">\r\n            <td colspan=\"8\" class=\"empty-row\">등록된 이벤트가 없습니다.</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\nconst router = useRouter();\r\nconst events = ref([]);\r\n\r\nconst getLoginUserCode = () => {\r\n  const userStr = localStorage.getItem(\"user\");\r\n  if (!userStr) return null;\r\n  try {\r\n    return JSON.parse(userStr).user_code || null;\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst getLoginRole = () => {\r\n  const userStr = localStorage.getItem(\"user\");\r\n  if (!userStr) return null;\r\n  try {\r\n    return JSON.parse(userStr).role || null;\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst user_code = getLoginUserCode();\r\nconst role = getLoginRole();\r\n\r\nconst formatDate = (v) => (v ? String(v).slice(0, 10) : \"-\");\r\n\r\nconst loadEvents = async () => {\r\n  try {\r\n    if (!user_code) {\r\n      alert(\"로그인 상태가 아닙니다.\");\r\n      return;\r\n    }\r\n\r\n    const params = { role, user_code };\r\n    if (role !== \"AA3\") params.user_code = user_code;\r\n\r\n    const res = await axios.get(\"/api/event/applyResult\", { params });\r\n    events.value = res.data.data || [];\r\n  } catch (err) {\r\n    console.error(\"이벤트 요청/결과 목록 조회 실패:\", err);\r\n  }\r\n};\r\n\r\nconst statusBadgeClass = (code) => {\r\n  switch (code) {\r\n    case \"BA1\":\r\n      return \"badge-request\";\r\n    case \"BA2\":\r\n      return \"badge-approve\";\r\n    case \"BA3\":\r\n      return \"badge-reject\";\r\n    default:\r\n      return \"badge-default\";\r\n  }\r\n};\r\n\r\nconst viewPlan = (event_code) => {\r\n  router.push({ name: \"EventApplyInfo\", params: { eventCode: event_code } });\r\n};\r\n\r\nconst viewResult = (event_result_code) => {\r\n  router.push({\r\n    name: \"EventResultInfo\",\r\n    params: { resultCode: event_result_code },\r\n  });\r\n};\r\n\r\nonMounted(loadEvents);\r\n</script>\r\n\r\n<style scoped>\r\n/* 페이지 전체 */\r\n.apply-page {\r\n  width: 1600px;\r\n  margin: 24px auto 40px;\r\n  padding: 0 16px;\r\n}\r\n\r\n.page-title {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  margin-bottom: 16px;\r\n  color: #111827;\r\n}\r\n\r\n/* 테이블 래핑 */\r\n.table-wrap {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  border: 1px solid #e5e7eb;\r\n  box-shadow: 0 1px 4px rgba(15, 23, 42, 0.06);\r\n  overflow-x: auto;\r\n  padding: 12px 16px;\r\n}\r\n\r\n/* 테이블 */\r\n.apply-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 15px;\r\n  table-layout: auto; /* 내용에 맞게 컬럼 너비 자동 조정 */\r\n}\r\n\r\n.apply-table th {\r\n  text-align: center;\r\n  padding: 8px 6px; /* 간격 줄임 */\r\n  font-size: 14px;\r\n  color: #6b7280;\r\n  border-bottom: 1px solid #e5e7eb;\r\n  background: #f9fafb;\r\n}\r\n\r\n.apply-table td {\r\n  padding: 6px 6px; /* 간격 줄임 */\r\n  border-bottom: 1px solid #f3f4f6;\r\n  font-size: 14px;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n\r\n  white-space: nowrap; /* 줄바꿈 방지 */\r\n  overflow: hidden;\r\n  text-overflow: ellipsis; /* 넘치면 … 처리 */\r\n  max-width: 250px; /* 필요시 조절 */\r\n}\r\n\r\n.text-left {\r\n  text-align: left !important;\r\n}\r\n.text-center {\r\n  text-align: center !important;\r\n}\r\n\r\n/* hover */\r\n.click-row:hover {\r\n  background: #f3f4ff;\r\n  cursor: pointer;\r\n}\r\n\r\n/* 빈행 */\r\n.empty-row {\r\n  text-align: center;\r\n  padding: 14px 0;\r\n  color: #9ca3af;\r\n}\r\n\r\n/* 버튼 */\r\n.view-btn {\r\n  background: #2563eb;\r\n  color: white;\r\n  border-radius: 6px;\r\n  padding: 4px 10px; /* 조금 더 슬림하게 */\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  border: none;\r\n}\r\n.view-btn:hover {\r\n  background: #1e40af;\r\n}\r\n\r\n/* 상태 뱃지 */\r\n.status-badge {\r\n  padding: 2px 6px; /* 가로 패딩 줄임 */\r\n  border-radius: 999px;\r\n  font-size: 11px;\r\n  border: 1px solid transparent;\r\n}\r\n\r\n.badge-request {\r\n  background: #eef2ff;\r\n  color: #3730a3;\r\n  border-color: #c7d2fe;\r\n}\r\n\r\n.badge-approve {\r\n  background: #ecfdf5;\r\n  color: #166534;\r\n  border-color: #bbf7d0;\r\n}\r\n\r\n.badge-reject {\r\n  background: #fef2f2;\r\n  color: #b91c1c;\r\n  border-color: #fecaca;\r\n}\r\n\r\n.badge-default {\r\n  background: #f3f4f6;\r\n  color: #4b5563;\r\n  border-color: #e5e7eb;\r\n}\r\n</style>\r\n","import script from \"./EventApplyResult.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EventApplyResult.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EventApplyResult.vue?vue&type=style&index=0&id=38680c3a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-38680c3a\"]])\n\nexport default __exports__"],"names":["router","useRouter","events","ref","getLoginUserCode","userStr","localStorage","getItem","JSON","parse","user_code","getLoginRole","role","formatDate","v","String","slice","loadEvents","async","alert","params","res","axios","get","value","data","err","console","error","statusBadgeClass","code","viewPlan","event_code","push","name","eventCode","viewResult","event_result_code","resultCode","onMounted","__exports__"],"sourceRoot":""}